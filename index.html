<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Smart Presentation</title>
<style>
  body {
    margin: 0;
    background: white;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    overflow: hidden;
    font-family: 'Segoe UI', Tahoma, sans-serif;
  }

  #loader, #player {
    position: absolute;
    top: 0; left: 0;
    width: 100%; height: 100%;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    transition: opacity 1s ease;
  }

  #loader img {
    width: 120px;
    height: auto;
  }

  #loader h1 {
    margin-top: 20px;
    font-size: 2rem;
    color: #333;
    font-weight: 500;
  }

  video {
    background: black;
    width: 100%;
    height: auto;
    max-height: 100%;
    outline: none;
  }

  .hidden {
    opacity: 0;
    pointer-events: none;
  }
</style>
</head>
<body>

<!-- Loading Screen -->
<div id="loader">
  <img src="imgs/loading.gif" alt="Loading...">
  <h1>Presenting...</h1>
</div>

<!-- Video Player -->
<div id="player" class="hidden">
  <video id="presentation" preload="auto">
    <source src="presentation.mp4" type="video/mp4">
    Your browser does not support the video tag.
  </video>
</div>

<script>
const loader = document.getElementById('loader');
const player = document.getElementById('player');
const video = document.getElementById('presentation');
const segmentLength = 3; // seconds
let playTimeout = null;

// Preload video
video.load();

// Show loader for 5 seconds while video buffers
setTimeout(() => {
  loader.classList.add('hidden');
  player.classList.remove('hidden');
}, 5000);

// Play exactly segmentLength seconds
function playSegment() {
  clearTimeout(playTimeout);
  video.play().then(() => {
    playTimeout = setTimeout(() => {
      video.pause();
    }, segmentLength * 1000);
  }).catch(err => {
    console.error("Video play failed:", err);
  });
}

// Keyboard control
document.addEventListener('keydown', e => {
  if (e.key === 'ArrowRight' || e.key === ' ') {
    playSegment();
  } else if (e.key === 'ArrowLeft') {
    video.currentTime = Math.max(0, video.currentTime - segmentLength);
    playSegment();
  }
});

// Start paused
video.pause();
</script>

</body>
</html>

<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Smart Presentation</title>
<style>
  body {
    margin: 0;
    background: black;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    overflow: hidden;
  }
  #loader, #player {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
    background: black;
    transition: opacity 1s ease;
  }
  #loader img {
    width: 120px;
    height: auto;
  }
  video {
    width: 100%;
    height: auto;
    max-height: 100%;
    outline: none;
  }
  .hidden {
    opacity: 0;
    pointer-events: none;
  }
</style>
</head>
<body>

<!-- Loading Screen -->
<div id="loader">
  <img src="imgs/loading.gif" alt="Loading...">
</div>

<!-- Video Player -->
<div id="player" class="hidden">
  <video id="presentation" src="presentation2.mp4" preload="auto"></video>
</div>

<script>
const loader = document.getElementById('loader');
const player = document.getElementById('player');
const video = document.getElementById('presentation');
const segmentLength = 3; // seconds
let playTimeout = null;

// Show loader for 5 seconds, then fade in player
setTimeout(() => {
  loader.classList.add('hidden');
  player.classList.remove('hidden');
}, 5000);

// Play 5-second segments on key press
function playSegment() {
  clearTimeout(playTimeout);
  video.play();
  playTimeout = setTimeout(() => {
    video.pause();
  }, segmentLength * 1000);
}

document.addEventListener('keydown', e => {
  if (e.key === 'ArrowRight' || e.key === ' ') {
    playSegment();
  } else if (e.key === 'ArrowLeft') {
    video.currentTime = Math.max(0, video.currentTime - segmentLength);
    playSegment();
  }
});

// Start paused at the beginning
video.pause();
</script>

</body>
</html>
